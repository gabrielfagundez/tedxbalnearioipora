<div class="row">
  <h3 style="width: 100%; text-align: center; border-bottom: 1px solid #ccc; padding-bottom: 20px; color: #555">General Overview</h3>

  <div class="col-md-6">
    <div class="box box-primary">
      <div class="box-header with-border">
        <h3 class="box-title">Upcoming Project Events</h3>
      </div>
      <div class="box-body">
        <ul class="products-list product-list-in-box">
          <% if @upcoming_project_events.any? %>
            <% @upcoming_project_events.each do |event| %>
              <li class="item">
                <div class="product-info">
                  <a href="javascript:void(0)" class="product-title"><%= "#{event.project.name} - #{event.project.client.name}" %></a>
                  <span class="label label-warning pull-right"><%= event.name %></span>
                  <br>
                  <span class="product-title">
                    <%= "#{["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"][event.expected_date.strftime("%w").to_i] + event.expected_date.strftime(", %d %b")} (in #{distance_of_time_in_words(Time.now, event.expected_date)})" %>
                  </span>
                  <span class="product-description">
                    <%= event.description || "-" %>
                  </span>
                </div>
              </li>
            <% end %>
          <% else %>
            <div class="c-emtpy-client">
              <%= image_tag 'project.svg', class: 'c-emtpy-client__image' %>
              <div class="c-emtpy-client__title">
                You don't have any upcoming project events.
              </div>
              <div class="c-emtpy-client__description">
                Try adding milestones and goals to your projects.
              </div>
            </div>
          <% end %>
        </ul>
      </div>
      <div class="box-footer text-center">
        <%= link_to "View And Add Events", upcoming_events_path, class: "uppercase" %>
      </div>
    </div>
  </div>
  <div class="col-md-6">
    <div class="box box-primary">
      <div class="box-header with-border">
        <h3 class="box-title">Upcoming User Events</h3>
      </div>
      <div class="box-body">
        <ul class="products-list product-list-in-box">
          <% if @upcoming_user_events.any? %>
            <% @upcoming_user_events.each do |event| %>
              <li class="item">
                <div class="product-info">
                  <a href="javascript:void(0)" class="product-title"><%= event.user.full_name %></a>
                  <span class="label label-warning pull-right"><%= event.name %></span>
                  <br>
                  <span class="product-title">
                    <%= "#{["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"][event.start_date.strftime("%w").to_i] + event.start_date.strftime(", %d %b")} - #{["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"][event.end_date.strftime("%w").to_i] + event.end_date.strftime(", %d %b")} (in #{distance_of_time_in_words(Time.now, event.start_date)}, total #{((event.end_date - event.start_date) / (60*60*24)).round } days)" %>
                  </span>
                  <span class="product-description">
                    <%= event.description || "-" %>
                  </span>
                </div>
              </li>
            <% end %>
          <% else %>
            <div class="c-emtpy-client">
              <%= image_tag 'project.svg', class: 'c-emtpy-client__image' %>
              <div class="c-emtpy-client__title">
                You don't have any upcoming user events.
              </div>
              <div class="c-emtpy-client__description">
                Try adding PTO time to the people under the project you handle.
              </div>
            </div>
          <% end %>
        </ul>
      </div>
      <div class="box-footer text-center">
        <%= link_to "View And Add Events", upcoming_events_path, class: "uppercase" %>
      </div>
    </div>
  </div>
</div>
